# 功能列表

`ws-plugin` 的所有功能

## 添加连接

向你的Bot能收到消息的地方发送`#ws添加连接`,然后根据提示进行操作

> [!TIP]
> 一个连接和Bot是对应的,请向需要添加连接的Bot发送


### 连接类型

#### 1. 反向ws连接

OneBot 启动后，作为客户端向用户配置的反向 WebSocket URL 建立连接。连接建立后，将一直保持连接，并根据连接的 URL 不同，提供 API 调用或事件推送服务。通过 WebSocket 消息发送的数据全部使用 JSON 格式。通常以`ws://`开头,比如`ws://127.0.0.1:8080/onebot/v11/ws`

#### 2. 正向ws连接

OneBot 在启动时开启一个 WebSocket 服务器，监听配置文件指定的 IP 和端口，接受路径为 /api（或 /api/）、/event（或 /event/）、/ 的连接请求。连接建立后，将一直保持连接（用户可主动断开连接），并根据路径的不同，提供 API 调用或事件推送服务。通过 WebSocket 消息发送的数据全部使用 JSON 格式。比如`127.0.0.1:8080`

#### 3. gscore

早柚核心GsCore专用连接,连接地址通常为`ws://127.0.0.1:8765/ws/BotID`

#### 4. Red协议

#### 5. HTTP

开启一个 HTTP 服务器，监听配置文件指定的 IP 和端口，接受路径为 /:action 的 API 请求（或 /:action/），如 /send_private_msg，请求可以使用 GET 或 POST 方法，可以通过 query 参数（?arg1=111&arg2=222）、urlencoded 表单（arg1=111&arg2=222）或 JSON（{"arg1": "111", "arg2": "222"}）传递参数。比如`127.0.0.1:3000`

#### 6. HTTP POST

OneBot 在收到事件后，向配置指定的事件上报 URL 通过 POST 请求发送事件数据，事件数据以 JSON 格式表示。请求结束后，OneBot 处理用户返回的响应中的「快速操作」，如快速回复、快速禁言等。比如`http://127.0.0.1:3001`


## 操作一个已有的连接

通过`name`识别,均可在指令后加上`name`,也可以直接发送,然后再输入`name`

1. **#ws删除连接**
2. **#ws关闭连接**
3. **#ws打开连接**
4. **#ws重新连接**

## 查看连接

发送`#ws查看连接`或`#ws状态`可查看已有的所有连接和状态